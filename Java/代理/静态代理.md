# 静态代理

## 代理是什么

在不修改源码的情况下，使得原本不具有某种行为能力的类对象具有该种行为能力。

## 静态代理是什么

要求被代理类和代理类同时实现相应的一套接口，通过代理类调用重写接口的方法，实际上调用的是原始对象的同样的方法


## 需求

依次打印 start, doing ,end。 因为start和end 为每个项目都需要的，我们想只关注业务代码。所需需要用静态代理实现。

## 代码实现

![](../Images/1.png)

### UserInterface

	public interface UserInterface {
	
	    public  void  doStuff();
	
	}


### UserService

	public class UserService implements UserInterface {
	
	    @Override
	    public void doStuff() {
	
	        System.out.println("doing stuff");
	
	    }
	}

### UserPorxy

	public class UserPorxy {
	
	    UserInterface userInterface;
	
	    public UserPorxy(UserInterface userInterface) {
	        this.userInterface = userInterface;
	    }
	
	
	    public void doPorxy(){
	        System.out.println("start");
	
	        userInterface.doStuff();
	
	        System.out.println("end");
	
	    }
	
	}

关键步骤为：

引入Interface

将Interface加入构造器


### test

	public class test {
	
	
	    public static void main(String[] args) {
	
	        UserPorxy porxy = new UserPorxy(new UserService());
	
	        porxy.doPorxy();
	
	    }
	
	}

UserService 实现了Interface，所以可以直接调用。


## 结果

运行程序后打印：

	start
	doing stuff
	end

