# 01.环境搭建

## 搭建步骤

### JDk

	tar -zxvf jdk-8u341-linux-x64.tar.gz
	mv jdk1.8.0_341/ java

修改配置文件

	vim /etc/profiles

插入：

	export JAVA_HOME=/home/zheyi/java
	esxport PATH=$JAVA_HOME/bin:$PATH
	export JAVA_HOME PATH
	CLASSPATH=.:$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar


### 安装Maven

	tar -zxvf  apache-maven-3.8.6-bin.tar.gz
	
修改配置文件

	cd /home/zheyi/apache-maven-3.8.6/conf
	
修改setting文件，插入：

	<mirror>
	    <id>nexus-aliyun</id>
	    <mirrorOf>central</mirrorOf>
	    <name>Nexus aliyun</name>
	    <url>http://maven.aliyun.com/nexus/content/groups/public</url>
	</mirror>	
	
修改配置文件

	vim /etc/profiles
	
插入

	export  MAVEN_HOME=/home/zheyi/apache-maven-3.8.6
	export PATH=$MAVEN_HOME/bin:$PATH

测试 

	mvn  -version
	
### 安装git

	yum -y install git.x86_64 
	git --version
	
### 安装Spark

	tar -zxvf  spark-3.1.3-bin-hadoop3.2.tgz 
	 mv spark-3.1.3-bin-hadoop3.2 spark
	 
#### 修改环境变量

	
####修改配置文件：

	cd /home/zheyi/spark/conf
	cp spark-env.sh.template spark-env.sh
	vi spark-env.sh

插入：

	#配置java环境变量
	export JAVA_HOME=/home/zheyi/java/
	
	#指定master的IP
	export SPARK_MASTER_HOST=192.168.3.11
	
	#指定Master的端口
	export SPARK_MASTER_PORT=7077
	
#### slaves

	cd /home/zheyi/spark/conf
	vi slave

插入：

	192.168.3.11
	
	
#### 关闭防火墙

	systemctl stop firewalld.service
	systemctl disable firewalld.service
	
	
#### 启动

	cd /home/zheyi/spark/sbin
	sh start-all.sh 

#### 查看

	http://192.168.3.11:8080/

	
### Hudi项目克隆

	https://gitee.com/niubi123/doit-hudi/blob/master/dev/hudi-master.tar.gz
下载地址, 将下载的压缩包上传值虚拟机器,并解压

 	tar -zxvf hudi-master.tar.gz


### Hudi项目构建

	cd /home/zheyi/hudi-master
	mvn clean package -DskipTests -Dspark3 -Dscala-2.12  -Drat.skip=true -Pflink-bundle-shade-hive3 



