# Yarn

参考：https://www.jianshu.com/p/db0b02d6f0fa

## 定义

 yarn是一个资源管理、任务调度的框架。主要包含三个模块：resourceManger、nodeManger、ApplicationMater。
 
## 三个组件的作用
 
 RM：负责所有资源的监控、分配和管理

AM：负责每一个具体应用程序的调度和协调

    --applicationmaster。用户提交的每个应用程序均包含一个AM，它可以运行在RM以外的机器上。

NM：负责每一个节点的维护。

    --nodemanger负责该节点的程序的正常运行，定时向RM汇报本节点资源（cpu、内存）的使用情况和Container的运行状况。当Rm宕机后连接RM的备用节点。负责接收并处理来自AM的Container的启动、停止等各种请求。


## yarn有哪些调度器？

IFO（队列）调度：把应用按提交的顺序排成一个队列，按照先进先出进行资源分配。

容量调度：该调度允许多个组织共享整个集群，再为每个组织分配专门的队列。再为队列分配相应的计算资源。

公平调度：在公平调度中，我们不需要提前占用集群资源，fair调度器会在运行过程中根据job的执行动态的调整系统的资源分配。

## 什么是container？

是一个抽象概念，称之为容器，包含任务运行时所需的资源（包括内存、硬盘、cpu等）和环境（包含启动命令、环境变量等）

## yarn的执行流程？

![](Images/1.png)