**行储存结构--变长字段长度列表**

Compact行格式语法:

CREATE TABLE 表名(列的信息) ROW_FORMAT=行格式名称
ALTER TABLE 表名 ROW_FORMAT = 行格式名称

--例子：

建表：

CREATE TABLE record_format_demo (
	c1 VARCHAR(10),
	C2 VARCHAR(10) NOT NULL,
	c3 CHAR(10),
	c4 VARCHAR (10)
) CHARSET = ASCII ROW_FORMAT = COMPACT;


插入测试值：

INSERT INTO record_format_demo (c1, c2 ,c3, c4) VALUES('aaaa','bbb','cc','d'), ('eeee','fff', NULL, NULL);



验证：

SELECT * FROM record_format_demo;



![](../../Images/1.png)



MySQL支持变长的数据类型，VARCHAR(M)、VARBINARY(M)、TEXT类型，BLOB类型等，这些变长的数据类型占用的存储空间分为两部分：

---1.真正的数据内容

---2.占用的字节数

如果不保存真实数据占用字节数，那么MySQL服务器无法判断出真实数据有多长，导致无法准确取数。在Compact行格式中，把所有变长类型列的长度存放在行记录的开头部位形成一个列表，按照列的顺序逆序存放
